<!DOCTYPE html><html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Królowa Alicja - Galeria i Koło Fortuny</title>
    <style>
        body {
            background-color: pink;
            text-align: center;
            font-family: Arial, sans-serif;
        }
        h1 {
            color: darkred;
        }
        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }
        .gallery img {
            max-width: 300px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .wheel-container {
            margin-top: 20px;
        }
        #wheel {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            border: 5px solid darkred;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            background: conic-gradient(
                red 0deg 60deg,
                pink 60deg 120deg,
                darkred 120deg 180deg,
                violet 180deg 240deg,
                hotpink 240deg 300deg,
                purple 300deg 360deg
            );
            color: white;
            font-weight: bold;
            text-align: center;
            transition: transform 3s ease-out;
        }
        #spin-btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: darkred;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        #task-result {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
            color: darkred;
        }
    </style>
</head>
<body>
    <h1>Królowa Alicja - Twoja Bogini</h1>
    <div class="gallery" id="gallery"></div><div class="wheel-container">
    <div id="wheel">Kliknij, aby zakręcić</div>
    <button id="spin-btn">Zakręć kołem</button>
    <p id="task-result"></p>
</div>

<script>
    const repoOwner = "yrd01";
    const repoName = "Hotornot";
    const branch = "main";

    function loadGallery() {
        fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/git/trees/${branch}?recursive=1`)
        .then(response => response.json())
        .then(data => {
            const galleryDiv = document.getElementById("gallery");
            const images = data.tree
                .filter(file => file.path.match(/\.(png|jpg|jpeg)$/i) && !file.path.includes('/'))
                .map(file => file.path);

            if (images.length === 0) {
                galleryDiv.innerHTML = "<p>Brak zdjęć w repozytorium!</p>";
                return;
            }

            images.forEach(image => {
                const img = document.createElement("img");
                img.src = `https://raw.githubusercontent.com/${repoOwner}/${repoName}/${branch}/${image}`;
                galleryDiv.appendChild(img);
            });
        })
        .catch(console.error);
    }
    
    window.onload = loadGallery;

    const tasks = [
        "Pocałuj buty królowej",
        "Napisz w zeszycie 100 razy 'Alicja rządzi'",
        "Wylizuj podłogę przez 30 sekund",
        "Wysłuchaj rozkazów królowej przez 10 minut",
        "Stań na kolanach przez 5 minut",
        "Wyślij królowej pochwalną wiadomość"
    ];

    document.getElementById("spin-btn").addEventListener("click", function() {
        const wheel = document.getElementById("wheel");
        const randomRotation = Math.floor(500 + Math.random() * 2000);
        wheel.style.transform = `rotate(${randomRotation}deg)`;
        setTimeout(() => {
            const selectedTask = tasks[Math.floor(Math.random() * tasks.length)];
            document.getElementById("task-result").innerText = `Twoje zadanie: ${selectedTask}`;
        }, 3000);
    });
</script>

</body>
</html>
